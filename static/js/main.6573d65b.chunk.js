(this["webpackJsonptp-final-grasiela-rosa"]=this["webpackJsonptp-final-grasiela-rosa"]||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(17),r=n.n(c),s=n(7),i=n(11),o=(n(56),n(57),n(5)),l=n(20),d=n.p+"static/media/image-not-found.dae2d618.jpeg",u=n(9),j=n(8),b=n(6),h=n.n(b),m=n(12),x=function(e){var t=[];for(var n in e)t.push(Object(m.a)(Object(m.a)({id:n},e[n]),{},{idDB:n}));return t},p=n(27),O=n.n(p),f=O.a.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"dd53f21ab4dd0ca4482ab97ba094dad5"}}),v=O.a.create({baseURL:"https://grasielarosa-cinemada-default-rtdb.europe-west1.firebasedatabase.app/"}),g=function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("data-media.json");case 2:return t=e.sent,e.abrupt("return",x(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("data-media.json",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return n=e.sent,a=n.find((function(e){return e.id===t.id})),e.next=6,v.delete("data-media/".concat(a.idDB,".json"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("users/".concat(null===t||void 0===t?void 0:t.id,"/data-media.json"));case 2:return n=e.sent,e.abrupt("return",x(n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("users/".concat(null===t||void 0===t?void 0:t.id,"/data-media.json"),n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(h.a.mark((function e(t,n){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return a=e.sent,c=a.find((function(e){return e.id===n.id})),e.next=6,v.delete("users/".concat(null===t||void 0===t?void 0:t.id,"/data-media/").concat(null===c||void 0===c?void 0:c.idDB,".json"));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,f.get("/search/multi?query=".concat(n,"&page=").concat(t));case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,f.get("/movie/top_rated?page=".concat(t));case 8:a=e.sent;case 9:return e.abrupt("return",a.data);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(a.useState)(1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(a.useState)(),m=Object(u.a)(h,2),x=m[0],p=m[1],O=Object(a.useState)(1),f=Object(u.a)(O,2),v=f[0],w=f[1];Object(a.useEffect)((function(){S(n,i).then((function(e){b(e.results)}))}),[n,i]),Object(a.useEffect)((function(){S(n,i).then((function(e){w(e.total_pages)}))}),[n,i]);Object(a.useEffect)((function(){g().then((function(e){p(e.map((function(e){return e.id})))}))}),[x]);return{handleButtonData:function(e){null!==x&&void 0!==x&&x.includes(e.id)||(y(e),g().then((function(e){p(e.map((function(e){return e.id})))}))),null!==x&&void 0!==x&&x.includes(e.id)&&(N(e),g().then((function(e){p(e.map((function(e){return e.id})))})))},handleChange:function(e){var t=e.target.value;o(t)},handlePageClick:function(e){var t=e.selected+1;c(t)},dataTMDB:j,dataIds:x,isOnMyApi:function(e){if(null===x||void 0===x?void 0:x.find((function(t){return t===e})))return!0},page:n,totalPages:v,setPage:c}},B=n(3),F=Object(a.createContext)({currentUser:{},setCurrentUser:function(){}}),D=function(e){var t=e.children,n=Object(a.useState)(),c=Object(u.a)(n,2),r=c[0],s=c[1];return Object(B.jsx)(F.Provider,{value:{currentUser:r,setCurrentUser:s},children:t})},E=function(){Object(i.f)().location;var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),s=Object(u.a)(r,2),o=s[0],l=s[1],d=Object(a.useContext)(F).currentUser,j=Object(a.useState)(),b=Object(u.a)(j,2),h=b[0],m=b[1];Object(a.useEffect)((function(){g().then((function(e){c(e)}))}),[n]),Object(a.useEffect)((function(){w(d).then((function(e){l(e),m(e.map((function(e){return e.id})))}))}),[d,n]);return{currentUser:d,data:n,dataIds:h,dataUser:o,setData:c,handleButton:function(e){null!==h&&void 0!==h&&h.includes(e.id)||(k(d,e),w(d).then((function(e){m(e.map((function(e){return e.id})))}))),null!==h&&void 0!==h&&h.includes(e.id)&&(C(d,e),w(d).then((function(e){m(e.map((function(e){return e.id})))})))},isOnMyApiUser:function(e){if(null===h||void 0===h?void 0:h.find((function(t){return t===e})))return!0}}},L=n(45),T=function(e){var t=e.rating;return Object(B.jsx)(L.Rating,{ratingValue:10*t,size:25,readonly:!0,fillColor:"orange",emptyColor:"gray"})},P=function(e){var t=e.items,n=e.handleButton,a=U().isOnMyApi,c=E(),r=c.currentUser,i=c.isOnMyApiUser;return Object(B.jsx)(o.t,{sm:"2",md:"3",lg:"4",xxl:"5",className:" g-3 align-items-stretch rounded",children:null===t||void 0===t?void 0:t.map((function(e){return Object(B.jsx)(o.h,{children:Object(B.jsxs)(o.b,{className:"bg-secondary h-100 justify-content-between",children:[Object(B.jsxs)(s.b,{to:"/detail/".concat(e.id),className:"text-decoration-none text-primary",children:[Object(B.jsx)(o.e,{alt:"".concat(e.title||e.name," movie poster"),src:(t=e.poster_path,t?"http://image.tmdb.org/t/p/w500/".concat(t):d),top:!0,width:"100%",className:"rounded"}),Object(B.jsxs)(o.c,{children:[Object(B.jsx)(o.g,{tag:"h5",children:e.title||e.name}),Object(B.jsx)(T,{rating:e.vote_average})]})]}),Object(B.jsxs)(o.d,{className:"border-top-0 bg-transparent d-grid",children:[!a(e.id)&&"admin"===(null===r||void 0===r?void 0:r.role)&&Object(B.jsx)(o.a,{onClick:function(){return n(e)},className:"align-text-center bg-primary text-secondary",children:"add"}),a(e.id)&&"admin"===(null===r||void 0===r?void 0:r.role)&&Object(B.jsx)(o.a,{onClick:function(){return n(e)},className:"align-text-center bg-primary text-secondary",children:"remove"}),!i(e.id)&&"admin"!==(null===r||void 0===r?void 0:r.role)&&Object(B.jsx)(o.a,{onClick:function(){return n(e)},className:"align-text-center fs-3 bg-primary text-secondary",children:Object(B.jsx)(l.b,{})}),i(e.id)&&"admin"!==(null===r||void 0===r?void 0:r.role)&&Object(B.jsx)(o.a,{onClick:function(){return n(e)},className:"align-text-center fs-3 bg-primary text-secondary",children:Object(B.jsx)(l.a,{})})]})]})},e.id);var t}))})},_=function(e){var t=e.children,n=e.title;return Object(B.jsx)("div",{className:"col-sm-12 mx-auto w-50 align-self-center",children:Object(B.jsx)("div",{className:"h-100 justify-content-center",children:Object(B.jsxs)(o.j,{className:"bg-secondary p-5 rounded",children:[Object(B.jsx)("h3",{className:"text-center mb-4",children:n}),t]})})})},M=n(48),I=n.n(M),A=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0];t[1];return Object(B.jsx)("div",{className:"p-3 my-2 rounded col-sm-12 mx-auto w-25 align-self-center",children:Object(B.jsx)(o.v,{fade:!0,className:"mx-auto bg-primary",children:Object(B.jsx)(o.w,{className:"text-center",children:Object(B.jsx)(I.a,{color:"#FFFACD",loading:n,size:10})})})})},R=n(49),H=n.n(R),q=function(e){var t=e.pageCount,n=e.handlePageClick;return Object(B.jsx)("div",{className:" my-4",children:Object(B.jsx)(H.a,{previousLabel:"< previous",breakLabel:"...",nextLabel:"next >",onPageChange:n,pageRangeDisplayed:5,pageCount:t,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link"})})},z=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("/users/".concat(t,".json"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/users.json");case 2:return t=e.sent,e.abrupt("return",x(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],r=function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:t=e.sent,c(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:r();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n||r(),Object(B.jsxs)(o.u,{responsive:!0,className:"text-secondary border-secondary",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Nombre"}),Object(B.jsx)("th",{children:"Rol"}),Object(B.jsx)("th",{children:"E-mail"}),Object(B.jsx)("th",{children:"Fecha de Nacimiento"}),Object(B.jsx)("th",{})]})}),Object(B.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(e){return Object(B.jsxs)("tr",{className:"align-middle",children:[Object(B.jsx)("th",{scope:"row",children:e.firstname}),Object(B.jsx)("th",{scope:"row",children:e.lastname}),Object(B.jsx)("td",{children:e.role}),Object(B.jsx)("td",{children:e.email}),Object(B.jsx)("td",{children:e.birthdate}),Object(B.jsx)("td",{children:Object(B.jsx)(o.a,{onClick:function(){s(e.id)},className:"btn-outline-primary",children:Object(B.jsx)(l.c,{})})})]},e.id)}))})]})},W=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/users.json",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V={firstname:"",lastname:"",email:"",password:"",birthdate:"",role:"user",sessionToken:""},Y=function(){var e=Object(a.useState)(V),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(i.f)().push;return Object(B.jsxs)(o.k,{onSubmit:function(e){e.preventDefault(),W(Object(m.a)(Object(m.a)({},n),{},{birthdate:new Date(n.birthdate)})),r("/login")},children:[Object(B.jsxs)(o.l,{className:"d-flex flex-row justify-content-between",children:[Object(B.jsxs)("div",{children:[Object(B.jsx)(o.n,{htmlFor:"name",children:"first name:"}),Object(B.jsx)(o.m,{id:"name",type:"text",name:"name",value:n.firstname,onChange:function(e){return c(Object(m.a)(Object(m.a)({},n),{},{firstname:e.target.value}))}})]}),Object(B.jsxs)("div",{children:[Object(B.jsx)(o.n,{htmlFor:"name",children:"last name:"}),Object(B.jsx)(o.m,{id:"name",type:"text",name:"name",value:n.lastname,onChange:function(e){return c(Object(m.a)(Object(m.a)({},n),{},{lastname:e.target.value}))}})]})]}),Object(B.jsxs)(o.l,{children:[Object(B.jsx)(o.n,{htmlFor:"email",children:"e-mail:"}),Object(B.jsx)(o.m,{id:"email",type:"text",name:"email",value:n.email,onChange:function(e){return c(Object(m.a)(Object(m.a)({},n),{},{email:e.target.value}))}})]}),Object(B.jsxs)(o.l,{children:[Object(B.jsx)(o.n,{htmlFor:"password",children:"password"}),Object(B.jsx)(o.m,{id:"password",type:"password",name:"password",value:n.password,onChange:function(e){return c(Object(m.a)(Object(m.a)({},n),{},{password:e.target.value}))}})]}),Object(B.jsxs)(o.l,{children:[Object(B.jsx)(o.n,{htmlFor:"birthdate",children:"birthdate"}),Object(B.jsx)(o.m,{id:"birthdate",type:"date",name:"birthdate",value:n.birthdate,onChange:function(e){return c(Object(m.a)(Object(m.a)({},n),{},{birthdate:e.target.value}))}})]}),Object(B.jsxs)("div",{children:[Object(B.jsx)(o.a,{className:"bg-primary text-secondary mt-2",type:"submit",children:"create new user"}),Object(B.jsxs)("span",{className:"mx-2 align-bottom fw-light",children:["Already have an account?",Object(B.jsxs)(s.b,{to:"/login",className:" fw-bold text-primary text-decoration-none",children:[" ","Go to login!"]})]})]})]})},K=function(){var e=Object(a.useState)(localStorage.getItem("cinemada-token")||void 0),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),s=Object(u.a)(r,2),o=s[0],l=s[1],d=Object(a.useContext)(F),b=(d.currentUser,d.setCurrentUser),m=Object(i.f)().push;Object(a.useEffect)((function(){n&&localStorage.setItem("cinemada-token",n)}),[n]),Object(a.useEffect)((function(){f()}),[]);var p=function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.random().toString(36).substr(2),e.prev=1,e.next=4,v.patch("users/".concat(t.id,".json"),{sessionToken:n});case 4:return e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(h.a.mark((function e(t,n){var a,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/users.json");case 3:if(a=e.sent,r=x(a.data),!(s=r.find((function(e){return e.email===t&&e.password===n})))){e.next=13;break}return e.next=9,p(s);case 9:(i=e.sent)&&(c(i),m("/home")),e.next=14;break;case 13:throw new Error("el usuario no existe o la contrase\xf1a es erronea");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(h.a.mark((function e(){var t,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/users.json");case 3:a=e.sent,c=x(a.data),n&&(t=c.find((function(e){return e.sessionToken===n}))),t?(l(!0),b(t)):l(!1),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return{isUserLoggedIn:o,login:O,loginWithToken:f,logout:function(){localStorage.removeItem("cinemada-token"),l(!1),b(void 0),m("/")}}},Q={email:"",password:""},X=function(){var e=Object(a.useState)(Q),t=Object(u.a)(e,2),n=t[0],c=t[1],r=K().login,i=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,r(n.email,n.password);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)(o.k,{inline:!0,onSubmit:i,children:[Object(B.jsxs)(o.l,{children:[Object(B.jsx)(o.n,{for:"email",hidden:!0,children:"Email"}),Object(B.jsx)(o.m,{id:"email",name:"email",placeholder:"Email",type:"email",value:n.email,onChange:function(e){return c(Object(m.a)(Object(m.a)({},n),{},{email:e.target.value}))}})]}),Object(B.jsxs)(o.l,{children:[Object(B.jsx)(o.n,{for:"password",hidden:!0,children:"Password"}),Object(B.jsx)(o.m,{id:"password",name:"password",placeholder:"Password",type:"password",value:n.password,onChange:function(e){return c(Object(m.a)(Object(m.a)({},n),{},{password:e.target.value}))}})]}),Object(B.jsxs)("div",{children:[Object(B.jsx)(o.a,{type:"submit",className:"bg-primary text-secondary mt-2",children:"Login"}),Object(B.jsxs)("span",{className:"mx-2 align-bottom fw-light",children:["Don't have an account?",Object(B.jsxs)(s.b,{to:"/sign-up",className:" fw-bold text-primary text-decoration-none",children:[" ","Make one!"]})]})]})]})},Z=function(){return Object(B.jsx)("footer",{className:"align-self-end",children:Object(B.jsx)(o.t,{children:Object(B.jsx)(o.h,{className:"",children:Object(B.jsxs)("p",{className:"text-secondary text-center fw-light",children:["developed by"," ",Object(B.jsx)(s.b,{className:"text-secondary text-decoration-none",to:"https://www.linkedin.com/in/grasielarosa/",children:"Grasiela Rosa"})]})})})})},$=function(){var e=Object(a.useContext)(F).currentUser,t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],i=K().logout;return Object(B.jsx)("header",{className:"align-self-start mt-3",children:Object(B.jsxs)(o.q,{expand:"md",className:"mx-4",children:[Object(B.jsx)(o.r,{children:Object(B.jsx)(s.b,{to:"/",className:"text-secondary text-decoration-none",children:"CinemAda"})}),Object(B.jsx)(o.s,{className:"me-2",onClick:function(){return r(!c)}}),Object(B.jsx)(o.i,{className:"flex-row-reverse",isOpen:c,navbar:!0,children:Object(B.jsxs)(o.o,{className:"mr-auto",navbar:!0,children:[Object(B.jsx)(o.p,{children:Object(B.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"/",children:"home"})}),Object(B.jsx)(o.p,{children:Object(B.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"/movies",children:"movies"})}),Object(B.jsx)(o.p,{children:Object(B.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"/series",children:"series"})}),"admin"===(null===e||void 0===e?void 0:e.role)&&Object(B.jsx)(o.p,{children:Object(B.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"/users",children:"users"})}),"admin"===(null===e||void 0===e?void 0:e.role)&&Object(B.jsx)(o.p,{children:Object(B.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"/admin",children:"admin"})}),Object(B.jsx)(o.p,{children:Object(B.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"#",onClick:i,children:"logout"})})]})})]})})},ee=function(e){var t=e.children,n=e.hideFooter,a=e.hideHeader;return Object(B.jsx)(o.j,{className:"h-100",children:Object(B.jsxs)(o.t,{className:"h-100",children:[!a&&Object(B.jsx)($,{}),Object(B.jsx)("main",{className:"row",children:t}),!n&&Object(B.jsx)(Z,{})]})})},te=n(22),ne=["/login","/sign-up","/"],ae=["/users","/admin"],ce=function(e){return function(){var t=Object(a.useContext)(F).currentUser,n=Object(i.f)(),c=n.push,r=n.location,s=K().isUserLoggedIn;return void 0===s?Object(B.jsx)(A,{}):(s||ne.includes(r.pathname)||c("/login"),s&&ne.includes(r.pathname)&&c("/home"),void 0===t&&ae.includes(r.pathname)?Object(B.jsx)(A,{}):("admin"!==(null===t||void 0===t?void 0:t.role)&&ae.includes(r.pathname)&&c("/home"),Object(B.jsx)(e,{})))}},re=ce((function(){var e=E().currentUser;return Object(B.jsxs)("div",{className:"justify-content-start",children:[Object(B.jsxs)("div",{className:"my-5",children:[Object(B.jsxs)("h3",{className:"text-secondary",children:["Hi, ",null===e||void 0===e?void 0:e.firstname]}),Object(B.jsx)("p",{className:"text-secondary",children:"What do you want today?"})]}),Object(B.jsxs)(o.t,{className:"g-3 my-3",children:[Object(B.jsx)(o.h,{sm:"12",md:"6",lg:"3",className:"h-100",children:Object(B.jsxs)(o.b,{className:"bg-secondary text-primary",body:!0,children:[Object(B.jsx)(o.f,{children:"Manage your users."}),Object(B.jsx)(s.b,{to:"/users",className:"d-grid",children:Object(B.jsx)(o.a,{className:"bg-primary text-secondary",children:Object(B.jsx)(te.a,{})})})]})}),Object(B.jsx)(o.h,{sm:"12",md:"6",lg:"3",className:"h-100",children:Object(B.jsxs)(o.b,{body:!0,className:"bg-secondary text-primary",children:[Object(B.jsx)(o.f,{children:"Manage your database."}),Object(B.jsx)(s.b,{to:"/admin",className:"d-grid",children:Object(B.jsx)(o.a,{className:"bg-primary text-secondary",children:Object(B.jsx)(te.a,{})})})]})}),Object(B.jsx)(o.h,{sm:"12",md:"6",lg:"3",className:"h-100",children:Object(B.jsxs)(o.b,{body:!0,className:"bg-secondary text-primary",children:[Object(B.jsx)(o.f,{children:"See your movies."}),Object(B.jsx)(s.b,{to:"/movies",className:"d-grid",children:Object(B.jsx)(o.a,{className:"bg-primary text-secondary",children:Object(B.jsx)(te.a,{})})})]})}),Object(B.jsx)(o.h,{sm:"12",md:"6",lg:"3",className:"h-100",children:Object(B.jsxs)(o.b,{body:!0,className:"bg-secondary text-primary",children:[Object(B.jsx)(o.f,{children:"See your series."}),Object(B.jsx)(s.b,{to:"/series",className:"d-grid",children:Object(B.jsx)(o.a,{className:"bg-primary text-secondary",children:Object(B.jsx)(te.a,{})})})]})})]})]})})),se=(n(90),n(21)),ie=ce((function(){var e=E(),t=e.currentUser,n=e.dataUser,a=e.handleButton,c=null===n||void 0===n?void 0:n.filter((function(e){return"tv"!==e.media_type})),r=null===n||void 0===n?void 0:n.filter((function(e){return"tv"===e.media_type}));return Object(B.jsxs)("div",{className:"justify-content-start",children:[Object(B.jsx)("div",{className:"my-5",children:Object(B.jsxs)("h3",{className:"text-secondary",children:["Hi, ",null===t||void 0===t?void 0:t.firstname]})}),Object(B.jsxs)("div",{className:"accordion accordion-flush text-secondary",id:"accordionFlushExample",children:[Object(B.jsxs)("div",{className:"accordion-item bg-transparent border-bottom border-secondary",children:[Object(B.jsx)("h2",{className:"accordion-header text-secondary",id:"flush-headingOne",children:Object(B.jsxs)("button",{className:"accordion-button collapsed bg-transparent text-secondary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne",children:[Object(B.jsx)(se.a,{})," Movies that you watched"]})}),Object(B.jsx)("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#b4c515ordionFlushExample",children:Object(B.jsx)("div",{className:"accordion-body",children:Object(B.jsx)(P,{items:c,handleButton:a})})})]}),Object(B.jsxs)("div",{className:"accordion-item bg-transparent border-bottom border-secondary",children:[Object(B.jsx)("h2",{className:"accordion-header",id:"flush-headingTwo",children:Object(B.jsxs)("button",{className:"accordion-button collapsed bg-transparent text-secondary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo",children:[Object(B.jsx)(se.a,{})," Series that you watched"]})}),Object(B.jsx)("div",{id:"flush-collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"flush-headingTwo","data-bs-parent":"#accordionFlushExample",children:Object(B.jsx)("div",{className:"accordion-body",children:Object(B.jsx)(P,{items:r,handleButton:a})})})]})]})]})})),oe=ce((function(){var e=U(),t=e.dataTMDB,n=e.handleChange,a=e.handleButtonData,c=e.handlePageClick,r=e.totalPages;e.dataIds;return Object(B.jsxs)(ee,{hideFooter:!0,children:[Object(B.jsx)(o.k,{action:"",children:Object(B.jsxs)(o.l,{floating:!0,children:[Object(B.jsx)(o.m,{id:"search",name:"search",placeholder:"search",type:"search",className:"rounded-pill mt-3",onChange:n}),Object(B.jsx)(o.n,{for:"search",className:"ps-4",children:"teste"})]})}),Object(B.jsx)(P,{items:t,handleButton:a}),Object(B.jsx)(q,{pageCount:r,handlePageClick:c})]})})),le=function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("data-media.json");case 2:return t=e.sent,e.abrupt("return",x(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=ce((function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),s=Object(u.a)(r,2),l=s[0],j=(s[1],Object(i.g)().id),b=Object(i.f)().goBack;Object(a.useEffect)((function(){le().then((function(e){var t=e.filter((function(e){return e.id===Number(j)}));console.log(t),c(t)}))}),[]);return Object(B.jsx)(ee,{children:Object(B.jsxs)(o.h,{lg:"11",className:"mx-auto",children:[Object(B.jsx)("div",{className:"d-grid",children:Object(B.jsx)(o.a,{onClick:b,className:"btn-outline-primary my-3",children:Object(B.jsx)(se.b,{})})}),null===n||void 0===n?void 0:n.map((function(e){return Object(B.jsx)(o.b,{className:"bg-secondary text-primary p-4",children:Object(B.jsxs)(o.t,{children:[Object(B.jsx)(o.h,{children:Object(B.jsx)(o.e,{alt:"".concat(e.title||e.name," movie poster"),src:(t=e.poster_path,t?"http://image.tmdb.org/t/p/w500/".concat(t):d),width:"100%"})}),Object(B.jsx)(o.h,{className:"d-flex",children:Object(B.jsxs)(o.c,{children:[Object(B.jsx)(o.g,{tag:"h5",children:e.title||e.name}),Object(B.jsxs)("div",{className:"flex-column justify-content-around",children:[Object(B.jsxs)(o.f,{children:[Object(B.jsxs)("small",{className:"text-muted",children:["Release date: ",e.release_date]}),Object(B.jsx)("br",{}),Object(B.jsx)("small",{className:"text-muted",children:e.vote_average})]}),Object(B.jsx)(o.f,{children:e.overview}),Object(B.jsx)("div",{className:"my-3",children:null===l||void 0===l?void 0:l.map((function(e){return Object(B.jsx)("div",{className:"embed-responsive",children:Object(B.jsx)("iframe",{className:"embed-responsive-item",width:"100%",src:"https://www.youtube.com/embed/".concat(e.key),title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}))})]})]})})]})},e.id);var t}))]})})})),ue=ce((function(){var e=E().currentUser;return Object(B.jsxs)(ee,{children:["admin"!==(null===e||void 0===e?void 0:e.role)&&Object(B.jsx)(ie,{}),"admin"===(null===e||void 0===e?void 0:e.role)&&Object(B.jsx)(re,{})]})})),je=ce((function(){return Object(B.jsx)(ee,{hideHeader:!0,hideFooter:!0,children:Object(B.jsx)(_,{title:"Login",children:Object(B.jsx)(X,{})})})})),be=ce((function(){var e=E(),t=e.currentUser,n=e.data,a=e.handleButton,c=U().handleButtonData,r=null===n||void 0===n?void 0:n.filter((function(e){return"tv"!==e.media_type}));return Object(B.jsxs)(ee,{hideFooter:!0,children:["admin"!==(null===t||void 0===t?void 0:t.role)&&Object(B.jsx)(P,{items:r,handleButton:a}),"admin"===(null===t||void 0===t?void 0:t.role)&&Object(B.jsx)(P,{items:r,handleButton:c})]})})),he=ce((function(){var e=E(),t=e.currentUser,n=e.data,a=e.handleButton,c=U().handleButtonData,r=null===n||void 0===n?void 0:n.filter((function(e){return"tv"===e.media_type}));return Object(B.jsxs)(ee,{hideFooter:!0,children:["admin"!==(null===t||void 0===t?void 0:t.role)&&Object(B.jsx)(P,{items:r,handleButton:a}),"admin"===(null===t||void 0===t?void 0:t.role)&&Object(B.jsx)(P,{items:r,handleButton:c})]})})),me=ce((function(){return Object(B.jsx)(ee,{hideHeader:!0,children:Object(B.jsx)(_,{title:"SignUp Cinemada",children:Object(B.jsx)(Y,{})})})})),xe=ce((function(){return Object(B.jsx)(ee,{children:Object(B.jsx)(J,{})})})),pe=ce((function(){return Object(B.jsx)("div",{className:"container h-100",children:Object(B.jsxs)("div",{className:"row align-items-center h-100",children:[Object(B.jsx)("div",{className:"col-sm-12 mx-auto",children:Object(B.jsxs)(o.b,{className:"bg-transparent text-center text-secondary h-100 justify-content-center",children:[Object(B.jsx)(o.f,{className:"mt-5 mb-0",children:"welcome to"}),Object(B.jsx)("h1",{className:"mb-5 mt-0",children:"CinemAda"}),Object(B.jsxs)("div",{className:"d-block mx-auto w-50 d-flex justify-content-evenly mt-5 px-5 py-3",children:[Object(B.jsx)(o.a,{outline:!0,className:"btn-outline-primary w-25",children:Object(B.jsx)(s.b,{to:"/login",className:"text-decoration-none text-secondary",children:"Login"})}),Object(B.jsx)(o.a,{outline:!0,className:"btn-outline-primary w-25",children:Object(B.jsx)(s.b,{to:"/sign-up",className:"text-decoration-none text-secondary",children:"Signup"})})]})]})}),Object(B.jsx)(Z,{})]})})})),Oe=function(){return Object(B.jsx)(D,{children:Object(B.jsx)(s.a,{children:Object(B.jsxs)(i.c,{children:[Object(B.jsx)(i.a,{path:"/admin",component:oe}),Object(B.jsx)(i.a,{path:"/users",component:xe}),Object(B.jsx)(i.a,{path:"/home",component:ue}),Object(B.jsx)(i.a,{path:"/movies",component:be}),Object(B.jsx)(i.a,{path:"/series",component:he}),Object(B.jsx)(i.a,{path:"/detail/:id",component:de}),Object(B.jsx)(i.a,{path:"/login",component:je}),Object(B.jsx)(i.a,{path:"/sign-up",component:me}),Object(B.jsx)(i.a,{path:"/",component:pe})]})})})},fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};r.a.render(Object(B.jsx)(Oe,{}),document.getElementById("root")),fe()},57:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.6573d65b.chunk.js.map