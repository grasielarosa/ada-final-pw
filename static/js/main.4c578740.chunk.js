(this["webpackJsonptp-final-grasiela-rosa"]=this["webpackJsonptp-final-grasiela-rosa"]||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(17),c=n.n(r),s=n(8),i=n(11),o=(n(57),n(58),n(21)),l=n(5),d=n.p+"static/media/image-not-found.dae2d618.jpeg",u=n(7),j=n(9),b=n(6),h=n.n(b),m=n(12),x=function(e){var t=[];for(var n in e)t.push(Object(m.a)(Object(m.a)({id:n},e[n]),{},{idDB:n}));return t},p=n(27),O=n.n(p),f=O.a.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"dd53f21ab4dd0ca4482ab97ba094dad5",include_adult:!1}}),v=O.a.create({baseURL:"https://grasielarosa-final-tw-default-rtdb.europe-west1.firebasedatabase.app/"}),g=function(){var e=Object(u.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("data-media.json");case 2:return t=e.sent,e.abrupt("return",x(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("data-media.json",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return n=e.sent,a=n.find((function(e){return e.id===t.id})),e.next=6,v.delete("data-media/".concat(a.idDB,".json"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("users/".concat(null===t||void 0===t?void 0:t.id,"/data-media.json"));case 2:return n=e.sent,e.abrupt("return",x(n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("users/".concat(null===t||void 0===t?void 0:t.id,"/data-media.json"),n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return a=e.sent,r=a.find((function(e){return e.id===n.id})),e.next=6,v.delete("users/".concat(null===t||void 0===t?void 0:t.id,"/data-media/").concat(null===r||void 0===r?void 0:r.idDB,".json"));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,f.get("/search/multi?query=".concat(n,"&page=").concat(t));case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,f.get("/movie/top_rated?page=".concat(t));case 8:a=e.sent;case 9:return e.abrupt("return",a.data);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=new URLSearchParams(window.location.search),t=e.get("search")||"",n=Number(e.get("page"))||1,r=Object(a.useState)(),c=Object(j.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(),d=Object(j.a)(l,2),b=d[0],m=d[1],x=Object(a.useState)(1),p=Object(j.a)(x,2),O=p[0],f=p[1],v=Object(i.f)().push,w=function(t){e.set("page",t.toString()),v("".concat(window.location.pathname,"?").concat(e.toString()))},k=function(){var e=Object(u.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===b||void 0===b||!b.includes(t.id)){e.next=5;break}return e.next=3,N(t);case 3:e.next=7;break;case 5:return e.next=7,y(t);case 7:g().then((function(e){m(e.map((function(e){return e.id})))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){S(n,t).then((function(e){o(e.results),f(e.total_pages)}))}),[n,t]),Object(a.useEffect)((function(){g().then((function(e){m(e.map((function(e){return e.id})))}))}),[]),{handleButtonData:k,handlePageClick:function(e){var t=e.selected+1;w(t),window.scroll(0,0)},dataTMDB:s,isOnMyApi:function(e){if(null===b||void 0===b?void 0:b.find((function(t){return t===e})))return!0},page:n,totalPages:O,setPageParam:w,setSearchParam:function(t){e.set("search",t),w(1),v("".concat(window.location.pathname,"?").concat(e.toString()))}}},U=n(3),T=Object(a.createContext)({currentUser:{},setCurrentUser:function(){}}),D=function(e){var t=e.children,n=Object(a.useState)(),r=Object(j.a)(n,2),c=r[0],s=r[1];return Object(U.jsx)(T.Provider,{value:{currentUser:c,setCurrentUser:s},children:t})},B=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),s=Object(j.a)(c,2),i=s[0],o=s[1],l=Object(a.useContext)(T).currentUser,d=Object(a.useState)(),b=Object(j.a)(d,2),m=b[0],x=b[1],p=function(){var e=Object(u.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===m||void 0===m||!m.includes(t.id)){e.next=5;break}return e.next=3,C(l,t);case 3:e.next=7;break;case 5:return e.next=7,k(l,t);case 7:w(l).then((function(e){o(e),x(e.map((function(e){return e.id})))})),g().then((function(e){r(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){g().then((function(e){r(e)}))}),[]),Object(a.useEffect)((function(){w(l).then((function(e){o(e),x(e.map((function(e){return e.id})))}))}),[]),{currentUser:l,dataFB:n,dataIdsUser:m,dataUser:i,setDataFB:r,handleButton:p,isOnMyApiUser:function(e){if(null===m||void 0===m?void 0:m.find((function(t){return t===e})))return!0}}},E=n(45),L=function(e){var t=e.rating;return Object(U.jsx)(E.Rating,{ratingValue:10*t,size:25,readonly:!0,fillColor:"orange",emptyColor:"gray"})},P=function(e){var t=e.items,n=F(),a=n.isOnMyApi,r=n.handleButtonData,c=B(),i=c.currentUser,u=c.isOnMyApiUser,j=c.handleButton;return Object(U.jsx)(l.t,{sm:"2",md:"3",lg:"4",xxl:"5",className:" g-3 align-items-stretch rounded",children:null===t||void 0===t?void 0:t.map((function(e){return Object(U.jsx)(l.h,{children:Object(U.jsxs)(l.b,{className:"bg-secondary h-100 justify-content-between",children:[Object(U.jsxs)(s.b,{to:"/detail/".concat(e.id),className:"text-decoration-none text-primary",children:[Object(U.jsx)(l.e,{alt:"".concat(e.title||e.name," movie poster"),src:(t=e.poster_path,t?"http://image.tmdb.org/t/p/w500/".concat(t):d),top:!0,width:"100%",className:"rounded"}),Object(U.jsxs)(l.c,{children:[Object(U.jsx)(l.g,{tag:"h5",children:e.title||e.name}),Object(U.jsx)(L,{rating:e.vote_average})]})]}),Object(U.jsxs)(l.d,{className:"border-top-0 bg-transparent d-grid",children:[!a(e.id)&&"admin"===(null===i||void 0===i?void 0:i.role)&&Object(U.jsx)(l.a,{onClick:function(){return r(e)},className:"align-text-center bg-primary text-secondary",children:"add"}),a(e.id)&&"admin"===(null===i||void 0===i?void 0:i.role)&&Object(U.jsx)(l.a,{onClick:function(){return r(e)},className:"align-text-center bg-primary text-secondary",children:"remove"}),!u(e.id)&&"admin"!==(null===i||void 0===i?void 0:i.role)&&Object(U.jsx)(l.a,{onClick:function(){return j(e)},className:"align-text-center fs-3 bg-primary text-secondary",children:Object(U.jsx)(o.b,{})}),u(e.id)&&"admin"!==(null===i||void 0===i?void 0:i.role)&&Object(U.jsx)(l.a,{onClick:function(){return j(e)},className:"align-text-center fs-3 bg-primary text-secondary",children:Object(U.jsx)(o.a,{})})]})]})},e.id);var t}))})},_=function(e){var t=e.children,n=e.title;return Object(U.jsx)("div",{className:"col-sm-12 mx-auto w-50 align-self-center",children:Object(U.jsx)("div",{className:"h-100 justify-content-center",children:Object(U.jsxs)(l.j,{className:"bg-secondary p-5 rounded",children:[Object(U.jsx)("h3",{className:"text-center mb-4",children:n}),t]})})})},M=n(48),A=n.n(M),I=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0];t[1];return Object(U.jsx)("div",{className:"p-3 my-2 rounded col-sm-12 mx-auto w-25 align-self-center",children:Object(U.jsx)(l.v,{fade:!0,className:"mx-auto bg-primary",children:Object(U.jsx)(l.w,{className:"text-center",children:Object(U.jsx)(A.a,{color:"#FFFACD",loading:n,size:10})})})})},R=n(49),H=n.n(R),Y=function(e){var t=e.pageCount,n=e.handlePageClick;return Object(U.jsx)("div",{className:" my-4",children:Object(U.jsx)(H.a,{previousLabel:"<< first page",breakLabel:"...",nextLabel:"last page >>",onPageChange:n,pageRangeDisplayed:5,pageCount:t,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link"})})},q=n(50),z=n.n(q),G=function(){var e=Object(u.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("/users/".concat(t,".json"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/users.json");case 2:return t=e.sent,e.abrupt("return",x(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(u.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J();case 3:t=e.sent,r(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:c();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n||c(),Object(U.jsxs)(l.u,{responsive:!0,className:"text-secondary border-secondary",children:[Object(U.jsx)("thead",{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"Nombre"}),Object(U.jsx)("th",{children:"Rol"}),Object(U.jsx)("th",{children:"E-mail"}),Object(U.jsx)("th",{children:"Fecha de Nacimiento"}),Object(U.jsx)("th",{})]})}),Object(U.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(e){return Object(U.jsxs)("tr",{className:"align-middle",children:[Object(U.jsx)("th",{scope:"row",children:e.firstname}),Object(U.jsx)("th",{scope:"row",children:e.lastname}),Object(U.jsx)("td",{children:e.role}),Object(U.jsx)("td",{children:e.email}),Object(U.jsx)("td",{children:z()(new Date(e.birthdate)).format("DD-MM-YYYY")}),Object(U.jsx)("td",{children:Object(U.jsx)(l.a,{onClick:function(){s(e.id)},className:"btn-outline-primary",children:Object(U.jsx)(o.c,{})})})]},e.id)}))})]})},V=function(e){var t=e.handleChange;return Object(U.jsx)(l.k,{action:"",children:Object(U.jsxs)(l.l,{floating:!0,children:[Object(U.jsx)(l.m,{id:"search",name:"search",placeholder:"search",type:"search",className:"rounded-pill mt-3 ps-5",onChange:function(e){return t(e.target.value)}}),Object(U.jsx)(l.n,{for:"search",className:"ps-4",children:"search"})]})})},K=function(){var e=Object(a.useState)(localStorage.getItem("cinemada-token")||void 0),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),s=Object(j.a)(c,2),o=s[0],l=s[1],d=Object(a.useContext)(T).setCurrentUser,b=Object(i.f)().push;Object(a.useEffect)((function(){n&&localStorage.setItem("cinemada-token",n)}),[n]),Object(a.useEffect)((function(){O()}),[]);var m=function(){var e=Object(u.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.random().toString(36).substr(2),e.prev=1,e.next=4,v.patch("users/".concat(t.id,".json"),{sessionToken:n});case 4:return e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(h.a.mark((function e(t,n){var a,c,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/users.json");case 3:if(a=e.sent,c=x(a.data),!(s=c.find((function(e){return e.email===t&&e.password===n})))){e.next=13;break}return e.next=9,m(s);case 9:(i=e.sent)&&(r(i),b("/home")),e.next=14;break;case 13:throw new Error("el usuario no existe o la contrase\xf1a es erronea");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(h.a.mark((function e(){var t,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/users.json");case 3:a=e.sent,r=x(a.data),n&&(t=r.find((function(e){return e.sessionToken===n}))),t?(l(!0),d(t)):l(!1),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return{isUserLoggedIn:o,login:p,loginWithToken:O,logout:function(){localStorage.removeItem("cinemada-token"),l(!1),d(void 0),b("/")}}},Q={email:"",password:""},X=function(){var e=Object(a.useState)(Q),t=Object(j.a)(e,2),n=t[0],r=t[1],c=K().login,i=function(){var e=Object(u.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,c(n.email,n.password);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)(l.k,{inline:!0,onSubmit:i,children:[Object(U.jsxs)(l.l,{children:[Object(U.jsx)(l.n,{for:"email",hidden:!0,children:"Email"}),Object(U.jsx)(l.m,{id:"email",name:"email",placeholder:"Email",type:"email",value:n.email,onChange:function(e){return r(Object(m.a)(Object(m.a)({},n),{},{email:e.target.value}))}})]}),Object(U.jsxs)(l.l,{children:[Object(U.jsx)(l.n,{for:"password",hidden:!0,children:"Password"}),Object(U.jsx)(l.m,{id:"password",name:"password",placeholder:"Password",type:"password",value:n.password,onChange:function(e){return r(Object(m.a)(Object(m.a)({},n),{},{password:e.target.value}))}})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)(l.a,{type:"submit",className:"bg-primary text-secondary mt-2",children:"Login"}),Object(U.jsxs)("span",{className:"mx-2 align-bottom fw-light",children:["Don't have an account?",Object(U.jsxs)(s.b,{to:"/sign-up",className:" fw-bold text-primary text-decoration-none",children:[" ","Make one!"]})]})]})]})},Z=function(){var e=Object(u.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/users.json",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$={firstname:"",lastname:"",email:"",password:"",birthdate:"",role:"user",sessionToken:""},ee=function(){var e=Object(a.useState)($),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(i.f)().push;return Object(U.jsxs)(l.k,{onSubmit:function(e){e.preventDefault(),Z(Object(m.a)(Object(m.a)({},n),{},{birthdate:new Date(n.birthdate)})),c("/login")},children:[Object(U.jsxs)(l.l,{className:"d-flex flex-row justify-content-between",children:[Object(U.jsxs)("div",{children:[Object(U.jsx)(l.n,{htmlFor:"name",children:"first name:"}),Object(U.jsx)(l.m,{id:"name",type:"text",name:"name",value:n.firstname,onChange:function(e){return r(Object(m.a)(Object(m.a)({},n),{},{firstname:e.target.value}))}})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)(l.n,{htmlFor:"name",children:"last name:"}),Object(U.jsx)(l.m,{id:"name",type:"text",name:"name",value:n.lastname,onChange:function(e){return r(Object(m.a)(Object(m.a)({},n),{},{lastname:e.target.value}))}})]})]}),Object(U.jsxs)(l.l,{children:[Object(U.jsx)(l.n,{htmlFor:"email",children:"e-mail:"}),Object(U.jsx)(l.m,{id:"email",type:"text",name:"email",value:n.email,onChange:function(e){return r(Object(m.a)(Object(m.a)({},n),{},{email:e.target.value}))}})]}),Object(U.jsxs)(l.l,{children:[Object(U.jsx)(l.n,{htmlFor:"password",children:"password"}),Object(U.jsx)(l.m,{id:"password",type:"password",name:"password",value:n.password,onChange:function(e){return r(Object(m.a)(Object(m.a)({},n),{},{password:e.target.value}))}})]}),Object(U.jsxs)(l.l,{children:[Object(U.jsx)(l.n,{htmlFor:"birthdate",children:"birthdate"}),Object(U.jsx)(l.m,{id:"birthdate",type:"date",name:"birthdate",value:n.birthdate,onChange:function(e){return r(Object(m.a)(Object(m.a)({},n),{},{birthdate:e.target.value}))}})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)(l.a,{className:"bg-primary text-secondary mt-2",type:"submit",children:"create new user"}),Object(U.jsxs)("span",{className:"mx-2 align-bottom fw-light",children:["Already have an account?",Object(U.jsxs)(s.b,{to:"/login",className:" fw-bold text-primary text-decoration-none",children:[" ","Go to login!"]})]})]})]})},te=function(){return Object(U.jsx)("footer",{className:"align-self-end",children:Object(U.jsx)(l.t,{children:Object(U.jsx)(l.h,{className:"",children:Object(U.jsxs)("p",{className:"text-secondary text-center fw-light",children:["developed by"," ",Object(U.jsx)("a",{className:"text-secondary text-decoration-none",href:"https://www.linkedin.com/in/grasielarosa/",target:"_blank",rel:"noreferrer",children:"Grasiela Rosa"})]})})})})},ne=function(){var e=Object(a.useContext)(T).currentUser,t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],c=n[1],i=K().logout;return Object(U.jsx)("header",{className:"align-self-start mt-3",children:Object(U.jsxs)(l.q,{expand:"md",className:"mx-4",children:[Object(U.jsx)(l.r,{children:Object(U.jsx)(s.b,{to:"/",className:"text-secondary text-decoration-none",children:"CinemAda"})}),Object(U.jsx)(l.s,{className:"me-2",onClick:function(){return c(!r)}}),Object(U.jsx)(l.i,{className:"flex-row-reverse",isOpen:r,navbar:!0,children:Object(U.jsxs)(l.o,{className:"mr-auto",navbar:!0,children:[Object(U.jsx)(l.p,{children:Object(U.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"/",children:"home"})}),Object(U.jsx)(l.p,{children:Object(U.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"/movies",children:"movies"})}),Object(U.jsx)(l.p,{children:Object(U.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"/series",children:"series"})}),"admin"===(null===e||void 0===e?void 0:e.role)&&Object(U.jsx)(l.p,{children:Object(U.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"/users",children:"users"})}),"admin"===(null===e||void 0===e?void 0:e.role)&&Object(U.jsx)(l.p,{children:Object(U.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"/admin",children:"admin"})}),Object(U.jsx)(l.p,{children:Object(U.jsx)(s.b,{className:"text-secondary text-decoration-none nav-link",to:"#",onClick:i,children:"logout"})})]})})]})})},ae=function(e){var t=e.children,n=e.hideFooter,a=e.hideHeader;return Object(U.jsx)(l.j,{className:"h-100",children:Object(U.jsxs)(l.t,{className:"h-100",children:[!a&&Object(U.jsx)(ne,{}),Object(U.jsx)("main",{className:"row",children:t}),!n&&Object(U.jsx)(te,{})]})})},re=n(22),ce=["/login","/sign-up","/"],se=["/users","/admin"],ie=function(e){return function(){var t=Object(a.useContext)(T).currentUser,n=Object(i.f)(),r=n.push,c=n.location,s=K().isUserLoggedIn;return void 0===s?Object(U.jsx)(I,{}):(s||ce.includes(c.pathname)||r("/login"),s&&ce.includes(c.pathname)&&r("/home"),void 0===t&&se.includes(c.pathname)?Object(U.jsx)(I,{}):("admin"!==(null===t||void 0===t?void 0:t.role)&&se.includes(c.pathname)&&r("/home"),Object(U.jsx)(e,{})))}},oe=ie((function(){var e=B().currentUser;return Object(U.jsxs)("div",{className:"justify-content-start",children:[Object(U.jsxs)("div",{className:"my-5",children:[Object(U.jsxs)("h3",{className:"text-secondary",children:["Hi, ",null===e||void 0===e?void 0:e.firstname]}),Object(U.jsx)("p",{className:"text-secondary",children:"What do you want to do today?"})]}),Object(U.jsxs)(l.t,{className:"g-3 my-3",children:[Object(U.jsx)(l.h,{sm:"12",md:"6",lg:"3",className:"h-100",children:Object(U.jsxs)(l.b,{className:"bg-secondary text-primary",body:!0,children:[Object(U.jsx)(l.f,{children:"Manage your users."}),Object(U.jsx)(s.b,{to:"/users",className:"d-grid",children:Object(U.jsx)(l.a,{className:"bg-primary text-secondary",children:Object(U.jsx)(re.a,{})})})]})}),Object(U.jsx)(l.h,{sm:"12",md:"6",lg:"3",className:"h-100",children:Object(U.jsxs)(l.b,{body:!0,className:"bg-secondary text-primary",children:[Object(U.jsx)(l.f,{children:"Manage your database."}),Object(U.jsx)(s.b,{to:"/admin",className:"d-grid",children:Object(U.jsx)(l.a,{className:"bg-primary text-secondary",children:Object(U.jsx)(re.a,{})})})]})}),Object(U.jsx)(l.h,{sm:"12",md:"6",lg:"3",className:"h-100",children:Object(U.jsxs)(l.b,{body:!0,className:"bg-secondary text-primary",children:[Object(U.jsx)(l.f,{children:"See your movies."}),Object(U.jsx)(s.b,{to:"/movies",className:"d-grid",children:Object(U.jsx)(l.a,{className:"bg-primary text-secondary",children:Object(U.jsx)(re.a,{})})})]})}),Object(U.jsx)(l.h,{sm:"12",md:"6",lg:"3",className:"h-100",children:Object(U.jsxs)(l.b,{body:!0,className:"bg-secondary text-primary",children:[Object(U.jsx)(l.f,{children:"See your series."}),Object(U.jsx)(s.b,{to:"/series",className:"d-grid",children:Object(U.jsx)(l.a,{className:"bg-primary text-secondary",children:Object(U.jsx)(re.a,{})})})]})})]})]})})),le=(n(92),n(19)),de=ie((function(){var e=B(),t=e.currentUser,n=e.dataUser,a=e.dataFB,r=null===n||void 0===n?void 0:n.filter((function(e){return"tv"!==e.media_type})),c=null===n||void 0===n?void 0:n.filter((function(e){return"tv"===e.media_type}));return Object(U.jsxs)("div",{className:"justify-content-start",children:[Object(U.jsx)("div",{className:"my-5",children:Object(U.jsxs)("h3",{className:"text-secondary",children:["Hi, ",null===t||void 0===t?void 0:t.firstname]})}),Object(U.jsxs)("div",{className:"accordion accordion-flush text-secondary",id:"accordionFlushExample",children:[Object(U.jsxs)("div",{className:"accordion-item bg-transparent border-bottom border-secondary",children:[Object(U.jsx)("h2",{className:"accordion-header text-secondary",id:"flush-headingOne",children:Object(U.jsxs)("button",{className:"accordion-button collapsed bg-transparent text-secondary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne",children:[Object(U.jsx)(le.a,{})," movies that you watched"]})}),Object(U.jsx)("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#b4c515ordionFlushExample",children:Object(U.jsx)("div",{className:"accordion-body",children:Object(U.jsx)(P,{items:r})})})]}),Object(U.jsxs)("div",{className:"accordion-item bg-transparent border-bottom border-secondary",children:[Object(U.jsx)("h2",{className:"accordion-header",id:"flush-headingTwo",children:Object(U.jsxs)("button",{className:"accordion-button collapsed bg-transparent text-secondary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo",children:[Object(U.jsx)(le.a,{})," series that you watched"]})}),Object(U.jsx)("div",{id:"flush-collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"flush-headingTwo","data-bs-parent":"#accordionFlushExample",children:Object(U.jsx)("div",{className:"accordion-body",children:Object(U.jsx)(P,{items:c})})})]}),Object(U.jsxs)("div",{className:"accordion-item bg-transparent border-bottom border-secondary",children:[Object(U.jsx)("h2",{className:"accordion-header text-secondary",id:"flush-headingThree",children:Object(U.jsxs)("button",{className:"accordion-button collapsed bg-transparent text-secondary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseThree","aria-expanded":"false","aria-controls":"flush-collapseThree",children:[Object(U.jsx)(le.a,{})," all media available"]})}),Object(U.jsx)("div",{id:"flush-collapseThree",className:"accordion-collapse collapse","aria-labelledby":"flush-headingThree","data-bs-parent":"#b4c515ordionFlushExample",children:Object(U.jsx)("div",{className:"accordion-body",children:Object(U.jsx)(P,{items:a})})})]})]})]})})),ue=ie((function(){var e=F(),t=e.dataTMDB,n=e.handlePageClick,a=e.totalPages,r=e.setSearchParam;return Object(U.jsxs)(ae,{hideFooter:!0,children:[Object(U.jsx)(V,{handleChange:r}),Object(U.jsx)(P,{items:t}),Object(U.jsx)(Y,{pageCount:a,handlePageClick:n})]})})),je=function(){var e=Object(u.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("data-media.json");case 2:return t=e.sent,e.abrupt("return",x(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(u.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/movie/".concat(t,"/videos"));case 2:return n=e.sent,e.abrupt("return",x(n.data.results));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(u.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/tv/".concat(t,"/videos"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=ie((function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),s=Object(j.a)(c,2),o=s[0],u=s[1],b=Object(a.useState)(),h=Object(j.a)(b,2),m=h[0],x=h[1],p=Object(i.g)().id,O=Object(i.f)().goBack;Object(a.useEffect)((function(){je().then((function(e){var t=e.filter((function(e){return e.id===Number(p)})),n=t.map((function(e){return"tv"!==e.media_type}));r(t),u(n)}))}),[]),Object(a.useEffect)((function(){o?be(Number(p)).then((function(e){x(e)})):he(Number(p)).then((function(e){x(e)}))}),[]);return Object(U.jsx)(ae,{children:Object(U.jsxs)(l.h,{lg:"11",className:"mx-auto",children:[Object(U.jsx)("div",{className:"d-grid",children:Object(U.jsx)(l.a,{onClick:O,className:"btn-outline-primary my-3",children:Object(U.jsx)(le.b,{})})}),null===n||void 0===n?void 0:n.map((function(e){return Object(U.jsx)(l.b,{className:"bg-secondary text-primary p-4",children:Object(U.jsxs)(l.t,{children:[Object(U.jsx)(l.h,{children:Object(U.jsx)(l.e,{alt:"".concat(e.title||e.name," movie poster"),src:(t=e.poster_path,t?"http://image.tmdb.org/t/p/w500/".concat(t):d),width:"100%"})}),Object(U.jsx)(l.h,{className:"d-flex",children:Object(U.jsxs)(l.c,{children:[Object(U.jsx)(l.g,{tag:"h5",children:e.title||e.name}),Object(U.jsxs)("div",{className:"flex-column justify-content-around",children:[Object(U.jsxs)(l.f,{children:[Object(U.jsxs)("small",{className:"text-muted",children:["Release date: ",e.release_date]}),Object(U.jsx)("br",{}),Object(U.jsx)(L,{rating:e.vote_average})]}),Object(U.jsx)(l.f,{children:e.overview}),Object(U.jsx)("div",{className:"my-3",children:null===m||void 0===m?void 0:m.map((function(e){return Object(U.jsx)("div",{className:"embed-responsive",children:Object(U.jsx)("iframe",{className:"embed-responsive-item",width:"100%",src:"https://www.youtube.com/embed/".concat(e.key),title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}))})]})]})})]})},e.id);var t}))]})})})),xe=ie((function(){var e=B().currentUser;return Object(U.jsxs)(ae,{children:["admin"!==(null===e||void 0===e?void 0:e.role)&&Object(U.jsx)(de,{}),"admin"===(null===e||void 0===e?void 0:e.role)&&Object(U.jsx)(oe,{})]})})),pe=ie((function(){return Object(U.jsx)(ae,{hideHeader:!0,hideFooter:!0,children:Object(U.jsx)(_,{title:"Login",children:Object(U.jsx)(X,{})})})})),Oe=ie((function(){var e=B(),t=e.currentUser,n=e.dataFB,a=null===n||void 0===n?void 0:n.filter((function(e){return"tv"!==e.media_type}));return Object(U.jsxs)(ae,{hideFooter:!0,children:["admin"!==(null===t||void 0===t?void 0:t.role)&&Object(U.jsx)(P,{items:a}),"admin"===(null===t||void 0===t?void 0:t.role)&&Object(U.jsx)(P,{items:a})]})})),fe=ie((function(){var e=B(),t=e.currentUser,n=e.dataFB,a=null===n||void 0===n?void 0:n.filter((function(e){return"tv"===e.media_type}));return Object(U.jsxs)(ae,{hideFooter:!0,children:["admin"!==(null===t||void 0===t?void 0:t.role)&&Object(U.jsx)(P,{items:a}),"admin"===(null===t||void 0===t?void 0:t.role)&&Object(U.jsx)(P,{items:a})]})})),ve=ie((function(){return Object(U.jsx)(ae,{hideHeader:!0,children:Object(U.jsx)(_,{title:"SignUp Cinemada",children:Object(U.jsx)(ee,{})})})})),ge=ie((function(){return Object(U.jsx)(ae,{children:Object(U.jsx)(W,{})})})),ye=ie((function(){return Object(U.jsx)("div",{className:"container h-100",children:Object(U.jsxs)("div",{className:"row align-items-center h-100",children:[Object(U.jsx)("div",{className:"col-sm-12 mx-auto",children:Object(U.jsxs)(l.b,{className:"bg-transparent text-center text-secondary h-100 justify-content-center",children:[Object(U.jsx)(l.f,{className:"mt-5 mb-0",children:"welcome to"}),Object(U.jsx)("h1",{className:"mb-5 mt-0",children:"CinemAda"}),Object(U.jsxs)("div",{className:"d-block mx-auto w-50 d-flex justify-content-evenly mt-5 px-5 py-3",children:[Object(U.jsx)(l.a,{outline:!0,className:"btn-outline-primary w-25",children:Object(U.jsx)(s.b,{to:"/login",className:"text-decoration-none text-secondary",children:"Login"})}),Object(U.jsx)(l.a,{outline:!0,className:"btn-outline-primary w-25",children:Object(U.jsx)(s.b,{to:"/sign-up",className:"text-decoration-none text-secondary",children:"Signup"})})]})]})}),Object(U.jsx)(te,{})]})})})),Ne=function(){return Object(U.jsx)(D,{children:Object(U.jsx)(s.a,{children:Object(U.jsxs)(i.c,{children:[Object(U.jsx)(i.a,{path:"/admin",component:ue}),Object(U.jsx)(i.a,{path:"/users",component:ge}),Object(U.jsx)(i.a,{path:"/home",component:xe}),Object(U.jsx)(i.a,{path:"/movies",component:Oe}),Object(U.jsx)(i.a,{path:"/series",component:fe}),Object(U.jsx)(i.a,{path:"/detail/:id",component:me}),Object(U.jsx)(i.a,{path:"/login",component:pe}),Object(U.jsx)(i.a,{path:"/sign-up",component:ve}),Object(U.jsx)(i.a,{path:"/",component:ye})]})})})},we=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,122)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};c.a.render(Object(U.jsx)(Ne,{}),document.getElementById("root")),we()},58:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.4c578740.chunk.js.map